DROP TABLE IF EXISTS CATEGORIES;

CREATE TABLE CATEGORIES (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY
	,CODE VARCHAR(50)
	,NAME VARCHAR(200) NOT NULL
	,PARENT_ID BIGINT
	,IS_GROUP BOOLEAN NOT NULL
	,DESCRIPTION VARCHAR(1000)
	,IMG_URL VARCHAR(100)
	,IS_ACTIVE BOOLEAN DEFAULT TRUE NOT NULL
	,CR_USER_ID BIGINT NOT NULL
	,CR_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
	,LM_USER_ID BIGINT
	,LM_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
	,PRIMARY KEY (ID)
);

ALTER TABLE CATEGORIES ADD CONSTRAINT IX_CATEGORIES_NAME UNIQUE (NAME);