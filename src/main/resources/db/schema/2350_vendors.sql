DROP TABLE IF EXISTS VENDORS;

CREATE TABLE VENDORS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY
  ,NAME VARCHAR(50) NOT NULL
  ,NOTES VARCHAR(1000)
  ,IS_ACTIVE BOOLEAN DEFAULT TRUE NOT NULL
  ,CR_USER_ID BIGINT NOT NULL
  ,LM_USER_ID BIGINT
  ,CR_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  ,LM_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,PRIMARY KEY (ID)
);

ALTER TABLE VENDORS ADD CONSTRAINT IX_VENDORS_NAME UNIQUE (NAME);

ALTER TABLE VENDORS ADD CONSTRAINT FK_VENDORS_USERS_CR_USER_ID FOREIGN KEY (CR_USER_ID) REFERENCES USERS;
ALTER TABLE VENDORS ADD CONSTRAINT FK_VENDORS_USERS_LM_USER_ID FOREIGN KEY (LM_USER_ID) REFERENCES USERS;