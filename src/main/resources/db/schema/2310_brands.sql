DROP TABLE IF EXISTS BRANDS;

CREATE TABLE BRANDS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY
  ,NAME VARCHAR(50) NOT NULL
  ,NOTES VARCHAR(1000)
  ,IS_ACTIVE BOOLEAN DEFAULT TRUE NOT NULL
  ,CR_USER_ID BIGINT NOT NULL
  ,CR_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  ,LM_USER_ID BIGINT
  ,LM_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,PRIMARY KEY (ID)
);

ALTER TABLE BRANDS
  ADD CONSTRAINT IX_BRANDS_NAME UNIQUE (NAME);

ALTER TABLE BRANDS
  ADD CONSTRAINT FK_BRANDS_USERS_CR_USER_ID FOREIGN KEY (CR_USER_ID) REFERENCES USERS;

ALTER TABLE BRANDS
  ADD CONSTRAINT FK_BRANDS_USERS_LM_USER_ID FOREIGN KEY (LM_USER_ID) REFERENCES USERS;